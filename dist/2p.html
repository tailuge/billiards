<!DOCTYPE html>
<html lang="en">

<head>
	<title>2 player billiards</title>
	<link rel="icon" type="image/png" href="favicon.png">
	<meta charset="utf-8" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="description" content="billiards" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' />
	<link rel="stylesheet" type="text/css" href="index.css" />
</head>

<body>
	<div class="box">
		<iframe src="index.html" id="P1" width="100%" height="256" align="left"></iframe>
	</div>
	<div class="box">
		<iframe src="index.html" id="P2" width="100%" height="256" align="right"></iframe>
	</div>
</body>

<script>
	const urlParams = new URLSearchParams(window.location.search);
	const websocketserver = urlParams.get('websocketserver');
	const address = websocketserver ? "wss://billiardsserver.herokuapp.com/ws" : `wss://8888${window.location.host.slice(4)}/ws`;
	document.getElementById('P1').src = `index.html?id=P1&websocketserver=${address}/ws`
	document.getElementById('P2').src = `index.html?id=P2&websocketserver=${address}/ws`
</script>
</html>